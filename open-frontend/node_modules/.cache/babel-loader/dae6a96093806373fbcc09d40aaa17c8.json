{"ast":null,"code":"var _jsxFileName = \"D:\\\\CoronaApi\\\\open-frontend\\\\src\\\\components\\\\MainList.js\";\nimport React, { useState, useEffect, useReducer } from 'react';\nimport styled from 'styled-components';\nimport MainItem from './MainItem';\nimport axios from 'axios';\nimport palette from '../lib/styles/palette';\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'INCREMENT':\n      return {\n        value: state.value + 1\n      };\n\n    default:\n      return state;\n  }\n}\n\nconst MainListBlock = styled.div`\n  margin-top: 3rem;\n  text-align: center;\n  .h1 {\n    color: black;\n    font-size: 50px;\n  }\n`;\nconst MainItemBlock = styled.div`\n  padding-top: 3rem;\n  padding-bottom: 3rem;\n  &:first-child {\n    padding-top: 0;\n  }\n  & + & {\n    border-top: 1px solid ${palette.gray[7]};\n  }\n`;\n\nconst MainList = () => {\n  const [items, setItems] = useState(null);\n  const [addDecideCnt, setAddDecideCnt] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [state, dispatch] = useReducer(reducer, {\n    value: 0\n  });\n  useEffect(() => {\n    const fetchData = async () => {\n      setLoading(true);\n\n      try {\n        const response = await axios.get('http://openapi.data.go.kr/openapi/service/rest/Covid19/getCovid19InfStateJson?serviceKey=MCOPjJc8P6GG3tLEXY0HTl%2FOzFqj%2BiStMV8aQ4FnL25TCt20be%2BpYIH%2FPQNlfUQyUOtMSxOgSoSA%2BS245I9n%2Fg%3D%3D&pageNo=1&numOfRows=10&startCreateDt=20201004&endCreateDt=20201010&_type=json');\n        setItems(response.data.response.body.items.item);\n        setAddDecideCnt(response.data.response.body.items.item[state].decideCnt - response.data.response.body.items.item[state].decideCnt);\n        dispach({\n          type: 'INCREMENT'\n        });\n      } catch (e) {\n        console.log(e);\n      }\n\n      setLoading(false);\n    };\n\n    fetchData();\n  }, []); //대기중일때\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(MainListBlock, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 12\n      }\n    }, \"\\uB300\\uAE30\\uC911 ...\");\n  } //아직 items 값이 설정되지 않았을때\n\n\n  if (!items) {\n    console.log('nn');\n    return null;\n  } // <MainItem key={item.stateDt} item={item} />\n  //items값이 유효할때\n\n\n  return /*#__PURE__*/React.createElement(MainListBlock, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 5\n    }\n  }, items.map(item => /*#__PURE__*/React.createElement(MainItem, {\n    key: item.stateDt,\n    item: item,\n    addDecideCnt: addDecideCnt,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default MainList;","map":{"version":3,"sources":["D:/CoronaApi/open-frontend/src/components/MainList.js"],"names":["React","useState","useEffect","useReducer","styled","MainItem","axios","palette","reducer","state","action","type","value","MainListBlock","div","MainItemBlock","gray","MainList","items","setItems","addDecideCnt","setAddDecideCnt","loading","setLoading","dispatch","fetchData","response","get","data","body","item","decideCnt","dispach","e","console","log","map","stateDt"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useReducer } from 'react';\r\nimport styled from 'styled-components';\r\nimport MainItem from './MainItem';\r\nimport axios from 'axios';\r\nimport palette from '../lib/styles/palette';\r\n\r\nfunction reducer(state, action) {\r\n  switch (action.type) {\r\n    case 'INCREMENT':\r\n      return { value: state.value + 1 };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\nconst MainListBlock = styled.div`\r\n  margin-top: 3rem;\r\n  text-align: center;\r\n  .h1 {\r\n    color: black;\r\n    font-size: 50px;\r\n  }\r\n`;\r\n\r\nconst MainItemBlock = styled.div`\r\n  padding-top: 3rem;\r\n  padding-bottom: 3rem;\r\n  &:first-child {\r\n    padding-top: 0;\r\n  }\r\n  & + & {\r\n    border-top: 1px solid ${palette.gray[7]};\r\n  }\r\n`;\r\n\r\nconst MainList = () => {\r\n  const [items, setItems] = useState(null);\r\n  const [addDecideCnt, setAddDecideCnt] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [state, dispatch] = useReducer(reducer, { value: 0 });\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const response = await axios.get(\r\n          'http://openapi.data.go.kr/openapi/service/rest/Covid19/getCovid19InfStateJson?serviceKey=MCOPjJc8P6GG3tLEXY0HTl%2FOzFqj%2BiStMV8aQ4FnL25TCt20be%2BpYIH%2FPQNlfUQyUOtMSxOgSoSA%2BS245I9n%2Fg%3D%3D&pageNo=1&numOfRows=10&startCreateDt=20201004&endCreateDt=20201010&_type=json',\r\n        );\r\n        setItems(response.data.response.body.items.item);\r\n        setAddDecideCnt(\r\n          response.data.response.body.items.item[state].decideCnt -\r\n            response.data.response.body.items.item[state].decideCnt,\r\n        );\r\n        dispach({ type: 'INCREMENT' });\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n      setLoading(false);\r\n    };\r\n    fetchData();\r\n  }, []);\r\n\r\n  //대기중일때\r\n  if (loading) {\r\n    return <MainListBlock>대기중 ...</MainListBlock>;\r\n  }\r\n\r\n  //아직 items 값이 설정되지 않았을때\r\n  if (!items) {\r\n    console.log('nn');\r\n    return null;\r\n  }\r\n  // <MainItem key={item.stateDt} item={item} />\r\n  //items값이 유효할때\r\n  return (\r\n    <MainListBlock>\r\n      {items.map((item) => (\r\n        <MainItem key={item.stateDt} item={item} addDecideCnt={addDecideCnt} />\r\n      ))}\r\n    </MainListBlock>\r\n  );\r\n};\r\n\r\nexport default MainList;\r\n"]},"metadata":{},"sourceType":"module"}